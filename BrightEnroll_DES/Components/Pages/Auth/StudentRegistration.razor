@page "/student-register"

@using System.ComponentModel.DataAnnotations

@inject NavigationManager Navigation

@layout Components.Layout.EmptyLayout

<div class="min-h-screen bg-gray-100 py-4 px-2 sm:py-6 sm:px-4 md:py-8 md:px-6 lg:px-8">
    <div class="max-w-5xl mx-auto">
        <!-- Header -->
        <div class="bg-blue-600 text-white py-4 px-4 sm:py-5 sm:px-6 md:py-6 md:px-8 rounded-t-xl shadow-lg">
            <h1 class="text-lg sm:text-xl md:text-2xl font-semibold text-center">Registration Form</h1>
        </div>

        <!-- Form Content -->
        <div class="bg-white shadow-xl rounded-b-xl p-4 sm:p-6 md:p-8 lg:p-10">
            <EditForm Model="@registrationModel" OnValidSubmit="@SubmitRegistration">
                <DataAnnotationsValidator />

                <!-- Personal Information -->
                <div class="mb-6 sm:mb-8">
                    <h2 class="text-lg sm:text-xl font-bold text-blue-600 mb-4 sm:mb-6">Personal Information</h2>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-3 sm:mb-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                First Name <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.FirstName" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="First Name" />
                            <ValidationMessage For="@(() => registrationModel.FirstName)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">Middle Name</label>
                            <InputText @bind-Value="registrationModel.MiddleName" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Middle Name" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Last Name <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.LastName" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Last Name" />
                            <ValidationMessage For="@(() => registrationModel.LastName)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">Suffix</label>
                            <InputSelect @bind-Value="registrationModel.Suffix" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base bg-white">
                                <option value="">N/A</option>
                                <option value="Jr.">Jr.</option>
                                <option value="Sr.">Sr.</option>
                                <option value="II">II</option>
                                <option value="III">III</option>
                                <option value="IV">IV</option>
                            </InputSelect>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-3 sm:mb-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Birth Date <span class="text-red-500">*</span>
                            </label>
                            <InputDate @bind-Value="registrationModel.BirthDate" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base" />
                            <ValidationMessage For="@(() => registrationModel.BirthDate)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Place of Birth <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.PlaceOfBirth" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Place of Birth" />
                            <ValidationMessage For="@(() => registrationModel.PlaceOfBirth)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Sex <span class="text-red-500">*</span>
                            </label>
                            <InputRadioGroup @bind-Value="registrationModel.Sex">
                                <div class="flex items-center gap-4 sm:gap-6 pt-1 sm:pt-2">
                                    <label class="flex items-center cursor-pointer">
                                        <InputRadio Value="@("Male")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                        <span class="ml-2 text-xs sm:text-sm text-gray-700">Male</span>
                                    </label>
                                    <label class="flex items-center cursor-pointer">
                                        <InputRadio Value="@("Female")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                        <span class="ml-2 text-xs sm:text-sm text-gray-700">Female</span>
                                    </label>
                                </div>
                            </InputRadioGroup>
                            <ValidationMessage For="@(() => registrationModel.Sex)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Mother Tongue <span class="text-red-500">*</span>
                            </label>
                            <InputSelect @bind-Value="registrationModel.MotherTongue" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base bg-white">
                                <option value="">Select</option>
                                <option value="Tagalog">Tagalog</option>
                                <option value="Cebuano">Cebuano</option>
                                <option value="Ilocano">Ilocano</option>
                                <option value="Hiligaynon">Hiligaynon</option>
                                <option value="Waray">Waray</option>
                                <option value="Other">Other</option>
                            </InputSelect>
                            <ValidationMessage For="@(() => registrationModel.MotherTongue)" class="text-red-500 text-xs mt-1" />
                            @if (registrationModel.MotherTongue == "Other")
                            {
                                <InputText @bind-Value="registrationModel.MotherTongueOther" 
                                    class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base mt-2"
                                    placeholder="Please specify mother tongue" />
                            }
                        </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Indigenous Peoples (IP) Community?
                            </label>
                            <InputRadioGroup @bind-Value="registrationModel.IsIPCommunity">
                                <div class="flex items-center gap-3 sm:gap-4 pt-1 sm:pt-2">
                                    <label class="flex items-center cursor-pointer">
                                        <InputRadio Value="@("Yes")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                        <span class="ml-2 text-xs sm:text-sm text-gray-700">Yes</span>
                                    </label>
                                    <label class="flex items-center cursor-pointer">
                                        <InputRadio Value="@("No")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                        <span class="ml-2 text-xs sm:text-sm text-gray-700">No</span>
                                    </label>
                                </div>
                            </InputRadioGroup>
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">If Yes, please specify:</label>
                            <InputSelect @bind-Value="registrationModel.IPCommunitySpecify" 
                                disabled="@(registrationModel.IsIPCommunity != "Yes")"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base bg-white disabled:bg-gray-100 disabled:cursor-not-allowed">
                                <option value="">N/A</option>
                                <option value="Lumad">Lumad</option>
                                <option value="Manobo">Manobo</option>
                                <option value="B'laan">B'laan</option>
                                <option value="Other">Other</option>
                            </InputSelect>
                            @if (registrationModel.IPCommunitySpecify == "Other" && registrationModel.IsIPCommunity == "Yes")
                            {
                                <InputText @bind-Value="registrationModel.IPCommunitySpecifyOther" 
                                    class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base mt-2"
                                    placeholder="Please specify" />
                            }
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                4Ps Beneficiary?
                            </label>
                            <InputRadioGroup @bind-Value="registrationModel.Is4PsBeneficiary">
                                <div class="flex items-center gap-3 sm:gap-4 pt-1 sm:pt-2">
                                    <label class="flex items-center cursor-pointer">
                                        <InputRadio Value="@("Yes")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                        <span class="ml-2 text-xs sm:text-sm text-gray-700">Yes</span>
                                    </label>
                                    <label class="flex items-center cursor-pointer">
                                        <InputRadio Value="@("No")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                        <span class="ml-2 text-xs sm:text-sm text-gray-700">No</span>
                                    </label>
                                </div>
                            </InputRadioGroup>
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">If Yes, 4Ps Household ID:</label>
                            <InputText @bind-Value="registrationModel.FourPsHouseholdId" 
                                disabled="@(registrationModel.Is4PsBeneficiary != "Yes")"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base disabled:bg-gray-100 disabled:cursor-not-allowed"
                                placeholder="N/A" />
                        </div>
                    </div>
                </div>

                <hr class="my-6 sm:my-8 border-gray-200" />

                <!-- Current Address -->
                <div class="mb-6 sm:mb-8">
                    <h2 class="text-lg sm:text-xl font-bold text-blue-600 mb-4 sm:mb-6">Current Address</h2>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-3 sm:mb-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">House No./Street</label>
                            <InputText @bind-Value="registrationModel.CurrentHouseNo" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="House No./Street" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">Street Name</label>
                            <InputText @bind-Value="registrationModel.CurrentStreetName" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Street Name" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Barangay <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.CurrentBarangay" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Barangay" />
                            <ValidationMessage For="@(() => registrationModel.CurrentBarangay)" class="text-red-500 text-xs mt-1" />
                        </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Municipality/City <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.CurrentCity" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Municipality/City" />
                            <ValidationMessage For="@(() => registrationModel.CurrentCity)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Province <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.CurrentProvince" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Province" />
                            <ValidationMessage For="@(() => registrationModel.CurrentProvince)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Country <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.CurrentCountry" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Country" />
                            <ValidationMessage For="@(() => registrationModel.CurrentCountry)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                ZIP Code <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.CurrentZipCode" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="ZIP Code" />
                            <ValidationMessage For="@(() => registrationModel.CurrentZipCode)" class="text-red-500 text-xs mt-1" />
                        </div>
                    </div>
                </div>

                <hr class="my-6 sm:my-8 border-gray-200" />

                <!-- Permanent Address -->
                <div class="mb-6 sm:mb-8">
                    <h2 class="text-lg sm:text-xl font-bold text-blue-600 mb-4 sm:mb-6">Permanent Address</h2>
                    
                    <div class="mb-3 sm:mb-4">
                        <label class="flex items-center cursor-pointer">
                            <InputCheckbox @bind-Value="registrationModel.SameAsCurrentAddress" 
                                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                            <span class="ml-2 text-xs sm:text-sm font-medium text-gray-700">Same with your current Address?</span>
                        </label>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-3 sm:mb-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">House No./Street</label>
                            <InputText @bind-Value="registrationModel.PermanentHouseNo" 
                                disabled="@registrationModel.SameAsCurrentAddress"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base disabled:bg-gray-100 disabled:cursor-not-allowed"
                                placeholder="House No./Street" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">Street Name</label>
                            <InputText @bind-Value="registrationModel.PermanentStreetName" 
                                disabled="@registrationModel.SameAsCurrentAddress"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base disabled:bg-gray-100 disabled:cursor-not-allowed"
                                placeholder="Street Name" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Barangay <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.PermanentBarangay" 
                                disabled="@registrationModel.SameAsCurrentAddress"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base disabled:bg-gray-100 disabled:cursor-not-allowed"
                                placeholder="Barangay" />
                        </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Municipality/City <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.PermanentCity" 
                                disabled="@registrationModel.SameAsCurrentAddress"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base disabled:bg-gray-100 disabled:cursor-not-allowed"
                                placeholder="Municipality/City" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Province <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.PermanentProvince" 
                                disabled="@registrationModel.SameAsCurrentAddress"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base disabled:bg-gray-100 disabled:cursor-not-allowed"
                                placeholder="Province" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Country <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.PermanentCountry" 
                                disabled="@registrationModel.SameAsCurrentAddress"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base disabled:bg-gray-100 disabled:cursor-not-allowed"
                                placeholder="Country" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                ZIP Code <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.PermanentZipCode" 
                                disabled="@registrationModel.SameAsCurrentAddress"
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base disabled:bg-gray-100 disabled:cursor-not-allowed"
                                placeholder="ZIP Code" />
                        </div>
                    </div>
                </div>

                <hr class="my-6 sm:my-8 border-gray-200" />

                <!-- Guardian Information -->
                <div class="mb-6 sm:mb-8">
                    <h2 class="text-lg sm:text-xl font-bold text-blue-600 mb-4 sm:mb-6">Guardian Information</h2>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-3 sm:mb-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                First Name <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.GuardianFirstName" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="First Name" />
                            <ValidationMessage For="@(() => registrationModel.GuardianFirstName)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">Middle Name</label>
                            <InputText @bind-Value="registrationModel.GuardianMiddleName" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Middle Name" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Last Name <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.GuardianLastName" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Last Name" />
                            <ValidationMessage For="@(() => registrationModel.GuardianLastName)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Contact Number <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.GuardianContactNumber" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Contact Number" />
                            <ValidationMessage For="@(() => registrationModel.GuardianContactNumber)" class="text-red-500 text-xs mt-1" />
                        </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Relationship <span class="text-red-500">*</span>
                            </label>
                            <InputSelect @bind-Value="registrationModel.GuardianRelationship" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base bg-white">
                                <option value="">Select Relationship</option>
                                <option value="Father">Father</option>
                                <option value="Mother">Mother</option>
                                <option value="Guardian">Guardian</option>
                                <option value="Other">Other</option>
                            </InputSelect>
                            <ValidationMessage For="@(() => registrationModel.GuardianRelationship)" class="text-red-500 text-xs mt-1" />
                        </div>
                    </div>
                    @if (registrationModel.GuardianRelationship == "Other")
                    {
                        <InputText @bind-Value="registrationModel.GuardianRelationshipOther" 
                            class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base mt-2"
                            placeholder="Please specify relationship" />
                    }
                </div>

                <hr class="my-6 sm:my-8 border-gray-200" />

                <!-- Enrollment Details -->
                <div class="mb-6 sm:mb-8">
                    <h2 class="text-lg sm:text-xl font-bold text-blue-600 mb-4 sm:mb-6">Enrollment Details</h2>
                    
                    <div class="mb-4 sm:mb-6">
                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-2 sm:mb-3">
                            Student Type <span class="text-red-500">*</span>
                        </label>
                        <InputRadioGroup @bind-Value="registrationModel.StudentType">
                            <div class="flex flex-wrap gap-4 sm:gap-6">
                                <label class="flex items-center cursor-pointer">
                                    <InputRadio Value="@("New Student")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                    <span class="ml-2 text-xs sm:text-sm text-gray-700">New Student</span>
                                </label>
                                <label class="flex items-center cursor-pointer">
                                    <InputRadio Value="@("Returnee")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                    <span class="ml-2 text-xs sm:text-sm text-gray-700">Returnee</span>
                                </label>
                                <label class="flex items-center cursor-pointer">
                                    <InputRadio Value="@("Transferee")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                    <span class="ml-2 text-xs sm:text-sm text-gray-700">Transferee</span>
                                </label>
                            </div>
                        </InputRadioGroup>
                        <ValidationMessage For="@(() => registrationModel.StudentType)" class="text-red-500 text-xs mt-1" />
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6">
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">With LRN?</label>
                            <InputRadioGroup @bind-Value="registrationModel.HasLRN">
                                <div class="flex items-center gap-3 sm:gap-4 pt-1 sm:pt-2">
                                    <label class="flex items-center cursor-pointer">
                                        <InputRadio Value="@("Yes")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                        <span class="ml-2 text-xs sm:text-sm text-gray-700">Yes</span>
                                    </label>
                                    <label class="flex items-center cursor-pointer">
                                        <InputRadio Value="@("No")" class="w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500" />
                                        <span class="ml-2 text-xs sm:text-sm text-gray-700">No</span>
                                    </label>
                                </div>
                            </InputRadioGroup>
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Learner Reference No. <span class="text-red-500">*</span>
                            </label>
                            <InputText @bind-Value="registrationModel.LearnerReferenceNo" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                                placeholder="Learner Reference No." />
                            <ValidationMessage For="@(() => registrationModel.LearnerReferenceNo)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                School year <span class="text-red-500">*</span>
                            </label>
                            <InputSelect @bind-Value="registrationModel.SchoolYear" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base bg-white">
                                <option value="">Select School Year</option>
                                <option value="2024-2025">2024-2025</option>
                                <option value="2025-2026">2025-2026</option>
                                <option value="2026-2027">2026-2027</option>
                            </InputSelect>
                            <ValidationMessage For="@(() => registrationModel.SchoolYear)" class="text-red-500 text-xs mt-1" />
                        </div>
                        <div>
                            <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2">
                                Grade to Enroll <span class="text-red-500">*</span>
                            </label>
                            <InputSelect @bind-Value="registrationModel.GradeToEnroll" 
                                class="w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base bg-white">
                                <option value="">Select Grade</option>
                                <option value="Kinder">Kinder</option>
                                <option value="Grade 1">Grade 1</option>
                                <option value="Grade 2">Grade 2</option>
                                <option value="Grade 3">Grade 3</option>
                                <option value="Grade 4">Grade 4</option>
                                <option value="Grade 5">Grade 5</option>
                                <option value="Grade 6">Grade 6</option>
                            </InputSelect>
                            <ValidationMessage For="@(() => registrationModel.GradeToEnroll)" class="text-red-500 text-xs mt-1" />
                        </div>
                    </div>
                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6">
                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-2 sm:mb-3">
                            Requirements <span class="text-red-500">*</span>
                        </label>
                        <label class="flex items-center cursor-pointer">
                            <InputCheckbox @bind-Value="registrationModel.HasBirthCertificate" 
                                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
                            <span class="ml-2 text-xs sm:text-sm text-gray-700">PSA Birth Certificate</span>
                        </label>
                    </div>
                    <div class="bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4">
                        <label class="flex items-start cursor-pointer">
                            <InputCheckbox @bind-Value="registrationModel.AgreeToTerms" 
                                class="w-4 h-4 sm:w-5 sm:h-5 text-green-600 border-gray-300 rounded focus:ring-green-500 mt-0.5" />
                            <span class="ml-2 sm:ml-3 text-xs sm:text-sm text-gray-700">
                                I agree to the <a href="#" @onclick="OpenTermsModal" @onclick:preventDefault class="text-[#0040B6] hover:underline font-medium">Terms of Enrollment and Privacy Policy</a> of BrightEnroll, and consent to the processing of my personal data.
                            </span>
                        </label>
                        <ValidationMessage For="@(() => registrationModel.AgreeToTerms)" class="text-red-500 text-xs mt-2 ml-6 sm:ml-8" />
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mt-6 sm:mt-8">
                    <button type="button" 
                        @onclick="Cancel"
                        class="px-6 sm:px-8 py-2.5 sm:py-3 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded-full transition-all duration-300 shadow-md hover:shadow-lg min-w-[140px] sm:min-w-[160px] text-sm sm:text-base">
                        Cancel
                    </button>
                    <button type="submit" 
                        disabled="@isSubmitting"
                        class="px-6 sm:px-8 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-full transition-all duration-300 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px] sm:min-w-[160px] text-sm sm:text-base">
                        @if (isSubmitting)
                        {
                            <span class="inline-flex items-center justify-center">
                                <svg class="animate-spin -ml-1 mr-2 sm:mr-3 h-4 w-4 sm:h-5 sm:w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                <span>Submitting...</span>
                            </span>
                        }
                        else
                        {
                            <span>Submit</span>
                        }
                    </button>
                </div>
            </EditForm>
        </div>
    </div>
</div>

<!-- Terms and Privacy Policy Modal -->
<TermsModal Show="@showTermsModal" OnClose="CloseTermsModal" />

@code {
    private StudentRegistrationModel registrationModel = new();
    private bool isSubmitting = false;
    private bool showTermsModal = false;

    private async Task SubmitRegistration()
    {
        isSubmitting = true;
        try
        {
            // TODO: Backend team will implement API call
            await Task.Delay(2000); // Simulate API call
            
            // Success - navigate to landing page
            Navigation.NavigateTo("/");
        }
        catch (Exception ex)
        {
            // Handle error
            Console.WriteLine($"Error submitting registration: {ex.Message}");
        }
        finally
        {
            isSubmitting = false;
        }
    }

    private void Cancel()
    {
        Navigation.NavigateTo("/");
    }

    private void OpenTermsModal()
    {
        showTermsModal = true;
    }

    private void CloseTermsModal()
    {
        showTermsModal = false;
        StateHasChanged();
    }

    // Model class
    public class StudentRegistrationModel
    {
        // Personal Information
        [Required(ErrorMessage = "First name is required")]
        public string FirstName { get; set; } = "";
        public string MiddleName { get; set; } = "";
        [Required(ErrorMessage = "Last name is required")]
        public string LastName { get; set; } = "";
        public string Suffix { get; set; } = "";
        [Required(ErrorMessage = "Birth date is required")]
        public DateTime? BirthDate { get; set; }
        [Required(ErrorMessage = "Place of birth is required")]
        public string PlaceOfBirth { get; set; } = "";
        [Required(ErrorMessage = "Sex is required")]
        public string Sex { get; set; } = "";
        [Required(ErrorMessage = "Mother tongue is required")]
        public string MotherTongue { get; set; } = "";
        public string MotherTongueOther { get; set; } = "";
        public string IsIPCommunity { get; set; } = "";
        public string IPCommunitySpecify { get; set; } = "";
        public string IPCommunitySpecifyOther { get; set; } = "";
        public string Is4PsBeneficiary { get; set; } = "";
        public string FourPsHouseholdId { get; set; } = "";
        // Current Address
        public string CurrentHouseNo { get; set; } = "";
        public string CurrentStreetName { get; set; } = "";
        [Required(ErrorMessage = "Barangay is required")]
        public string CurrentBarangay { get; set; } = "";
        [Required(ErrorMessage = "City is required")]
        public string CurrentCity { get; set; } = "";
        [Required(ErrorMessage = "Province is required")]
        public string CurrentProvince { get; set; } = "";
        [Required(ErrorMessage = "Country is required")]
        public string CurrentCountry { get; set; } = "";
        [Required(ErrorMessage = "ZIP code is required")]
        public string CurrentZipCode { get; set; } = "";
        // Permanent Address
        public bool SameAsCurrentAddress { get; set; } = false;
        public string PermanentHouseNo { get; set; } = "";
        public string PermanentStreetName { get; set; } = "";
        public string PermanentBarangay { get; set; } = "";
        public string PermanentCity { get; set; } = "";
        public string PermanentProvince { get; set; } = "";
        public string PermanentCountry { get; set; } = "";
        public string PermanentZipCode { get; set; } = "";
        // Guardian Information
        [Required(ErrorMessage = "Guardian first name is required")]
        public string GuardianFirstName { get; set; } = "";
        public string GuardianMiddleName { get; set; } = "";
        [Required(ErrorMessage = "Guardian last name is required")]
        public string GuardianLastName { get; set; } = "";
        [Required(ErrorMessage = "Contact number is required")]
        public string GuardianContactNumber { get; set; } = "";
        [Required(ErrorMessage = "Relationship is required")]
        public string GuardianRelationship { get; set; } = "";
        public string GuardianRelationshipOther { get; set; } = "";
        // Enrollment Details
        [Required(ErrorMessage = "Student type is required")]
        public string StudentType { get; set; } = "";
        public string HasLRN { get; set; } = "";
        [Required(ErrorMessage = "Learner reference number is required")]
        public string LearnerReferenceNo { get; set; } = "";
        [Required(ErrorMessage = "School year is required")]
        public string SchoolYear { get; set; } = "";
        [Required(ErrorMessage = "Grade to enroll is required")]
        public string GradeToEnroll { get; set; } = "";
        public bool HasBirthCertificate { get; set; } = false;
        [Range(typeof(bool), "true", "true", ErrorMessage = "You must agree to the terms")]
        public bool AgreeToTerms { get; set; } = false;
    }
}

